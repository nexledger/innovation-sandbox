# Innovation Sandbox

## Caliper with Accelerator Adaptor 
Caliper is a blockchain performance benchmark framework which is one of the Hyperledger projects. This project, Innovation Sandbox, also uses Caliper to measure the improved performance by Accelerator. The project was generated by forking Caliper project, and a new adaptor module and smart contracts were added to utilize Accelerator.

- [Accelerator](https://github.com/nexledger/accelerator)
- [Caliper User Guide](https://hyperledger.github.io/caliper)
- [Caliper Github](https://github.com/hyperledger/caliper)


## Getting Started
### Prerequisites
To use Hyperledger Caliper, you must install the following tools in advance.
- NodeJS 8.X
- node-gyp
- Docker
- Docker-compose

### Installing
Install the node modules from `innovation-sandbox/caliper` folder via the npm executable command.
```bash
$ npm install
```
Install the modules for the fabric through the following command in that folder.
```bash
$ npm run fabric-v1.4-deps
```

### Running the tests
The current version supports two benchmark scenarios, simple and smallbank which are provided by Caliper. 

Move to `caliper` directory and run `scripts/main.js` with option. `-c` is a path to benchmark workload file and `-n` is a path to the blockchain configuration file.

For example, the following command executes the performance evaluation with Accelerator in 1 organization with 2 peers network.
```bash
$ node scripts/main.js -c benchmark/simple/config.yaml -n network/fabric-v1.4/1org2peeraccelerator/fabric-go.json
```
The command automatically downloads a docker image of Accelerator, configure Fabric network, and run benchmark tests.

Fabric benchmark test without Accelerator can be run by executing following command.
```bash
$ node scripts/main.js -c benchmark/simple/config.yaml -n network/fabric-v1.4/1org2peer/fabric-go.json
```

To modify test configuration, please check the `Configuration File` section on the [Caliper website](https://hyperledger.github.io/caliper/vLatest/architecture/).

**The test result can be varied depending on your environment.**

### Benchmarking your chaincode

It need to following works to run custom chaincode on the innovation-sandbox.

1. Apply batchutil to your chaincode to be compatible with the Accelerator.
2. Add your chaincode information to Accelerator configuration. The configuration file is located at `caliper/network/fabric-v1.4/1org2peeraccelerator/accelerator.yaml`.
3. Write a benchmark for your chaincode. please refer to the sample benchmark `caliper/benchmark/custom`.
4. Add your chaincode and benchmark information into the blockchain configuration file, `fabric-go.json`. then run the test with your benchmark. 

## Whitepaper
Whitepaper includes:
- The key design features of Accelerator enabling high performance enterprise-wide blockchain technology
- The evaluation results that show the performance improvement of Hyperledger Fabric by Accelerator in practical scenarios
- The use cases that provide an insight for understanding industrial blockchain platforms

## Further Information
For further information please contact Samsung SDS(nexledger@samsung.com).
